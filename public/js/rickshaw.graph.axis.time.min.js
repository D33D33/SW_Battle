Rickshaw.namespace("Rickshaw.Graph.Axis.Time");Rickshaw.Graph.Axis.Time=function(e){var t=this;this.graph=e.graph;this.elements=[];this.ticksTreatment=e.ticksTreatment||"plain";this.fixedTimeUnit=e.timeUnit;var n=e.timeFixture||new Rickshaw.Fixtures.Time;this.appropriateTimeUnit=function(){var e;var t=n.units;var r=this.graph.x.domain();var i=r[1]-r[0];t.forEach(function(t){if(Math.floor(i/t.seconds)>=2){e=e||t}});return e||n.units[n.units.length-1]};this.tickOffsets=function(){var e=this.graph.x.domain();var t=this.fixedTimeUnit||this.appropriateTimeUnit();var r=Math.ceil((e[1]-e[0])/t.seconds);var i=e[0];var s=[];for(var o=0;o<r;o++){var u=n.ceil(i,t);i=u+t.seconds/2;s.push({value:u,unit:t})}return s};this.render=function(){this.elements.forEach(function(e){e.parentNode.removeChild(e)});this.elements=[];var e=this.tickOffsets();e.forEach(function(e){if(t.graph.x(e.value)>t.graph.x.range()[1])return;var n=document.createElement("div");n.style.left=t.graph.x(e.value)+"px";n.classList.add("x_tick");n.classList.add(t.ticksTreatment);var r=document.createElement("div");r.classList.add("title");r.innerHTML=e.unit.formatter(new Date(e.value*1e3));n.appendChild(r);t.graph.element.appendChild(n);t.elements.push(n)})};this.graph.onUpdate(function(){t.render()})}
